{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/AddMessageForm/AddMessageForm.module.css","hoc/withAuthRedirect.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","DialogItem","props","path","id","name","className","s","dialogItem","avatar","src","alt","to","activeClassName","activeLink","Message","text","messageItemStyle","messageItem","messageContainerStyle","messageContainer","avatarContainerStyle","avatarContainer","messageTextContainer","maxLength","maxLengthCreator","reduxForm","form","onSubmit","handleSubmit","styles","textAreaContainer","Field","component","Textarea","validate","required","placeholder","Dialogs","dialogsElements","dialogs","map","dialog","messagesElements","messages","message","dialogsArea","dialogsItems","messagesArea","messagesItems","newMessageBlock","formData","console","log","sendMessage","newMessageText","compose","connect","dialogsPage","sendMessageCreator","Component","RedirectComponent","this","React"],"mappings":"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","file":"static/js/3.581fa8b8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__UKVsP\",\"dialogsItems\":\"Dialogs_dialogsItems__EtjuS\",\"dialogsArea\":\"Dialogs_dialogsArea__39tPt\",\"messagesArea\":\"Dialogs_messagesArea__Zvk4H\",\"messagesItems\":\"Dialogs_messagesItems__uAVu9\",\"newMessageBlock\":\"Dialogs_newMessageBlock__yPEy7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"DialogItem_avatar__1G3nJ\",\"dialogItem\":\"DialogItem_dialogItem__2x0GD\",\"activeLink\":\"DialogItem_activeLink__131S9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageItem\":\"Message_messageItem__2M2S1\",\"messageItemOwner\":\"Message_messageItemOwner__l70mv\",\"avatarContainer\":\"Message_avatarContainer__1EE1r\",\"avatarContainerOwner\":\"Message_avatarContainerOwner__1lnu9\",\"messageContainer\":\"Message_messageContainer__17xN0\",\"messageContainerOwner\":\"Message_messageContainerOwner__MxZFI\",\"avatar\":\"Message_avatar__2HV8t\",\"messageTextContainer\":\"Message_messageTextContainer___Fkt7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textAreaContainer\":\"AddMessageForm_textAreaContainer__DobJX\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) {\r\n        return <Redirect to=\"login\" />;\r\n      }\r\n\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n};\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./DialogItem.module.css\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n    let name = props.name;\r\n\r\n    return (\r\n        <div className={s.dialogItem}>\r\n            <div className={s.avatar}>\r\n                <img src=\"https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/111554483/original/83d513acbc4b3716c9a474086bb633a5de3c2d74/create-social-media-avatars-in-minimalist-style.jpg\" alt=\"user avatar\" />\r\n            </div>\r\n\r\n            <NavLink to={path} activeClassName={s.activeLink}>{name}</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport s from \"./Message.module.css\";\r\n\r\nconst Message = (props) => {\r\n    let text = props.text;\r\n\r\n    let isOwner = false;\r\n\r\n    // items style\r\n    let messageItemStyle = isOwner ?\r\n        `${s.messageItemOwner}` :\r\n        `${s.messageItem}`\r\n        ;\r\n\r\n    // message container style\r\n    let messageContainerStyle = isOwner ?\r\n        `${s.messageContainerOwner}` :\r\n        `${s.messageContainer}`\r\n        ;\r\n\r\n    // avatar container style\r\n    let avatarContainerStyle = isOwner ?\r\n        `${s.avatarContainerOwner}` :\r\n        `${s.avatarContainer}`\r\n        ;\r\n\r\n    return (\r\n        <div className={messageItemStyle}>\r\n            <div className={avatarContainerStyle}>\r\n                <div className={s.avatar}>\r\n                    <img src=\"https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/111554483/original/83d513acbc4b3716c9a474086bb633a5de3c2d74/create-social-media-avatars-in-minimalist-style.jpg\" alt=\"user avatar\"/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={messageContainerStyle}>\r\n                <div>\r\n                    User Name\r\n                </div>\r\n                <div className={s.messageTextContainer}>\r\n                    {text}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport styles from \"./AddMessageForm.module.css\";\r\nimport { maxLengthCreator, required } from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../common/FormsControls/FormsControls\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\nconst maxLength = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div className={styles.textAreaContainer}>\r\n        <Field component={Textarea} validate={[required, maxLength]} name=\"newMessageText\" \r\n        placeholder=\"Enter some text\" />\r\n      </div>\r\n      <div>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default reduxForm({\r\n  form: \"dialog-add-message-form\"\r\n})(AddMessageForm)","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\";\r\n\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\";\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsElements = props.dialogs.map((dialog) => (\r\n    <DialogItem key={dialog.id} id={dialog.id} name={dialog.name} />\r\n  ));\r\n  let messagesElements = props.messages.map((message) => (\r\n    <Message key={message.id} id={message.id} text={message.text} />\r\n  ));\r\n\r\n  let addNewMessage = (formData) => {\r\n    console.log(formData)\r\n    props.sendMessage(formData.newMessageText);\r\n  }\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsArea}>\r\n        <div className={s.dialogsItems}>{dialogsElements}</div>\r\n      </div>\r\n\r\n      <div className={s.messagesArea}>\r\n        <div className={s.messagesItems}>{messagesElements}</div>\r\n\r\n        <div className={s.newMessageBlock}>\r\n          <AddMessageForm onSubmit={addNewMessage} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n  sendMessageCreator,\r\n} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogs: state.dialogsPage.dialogs,\r\n    messages: state.dialogsPage.messages,\r\n    newMessageText: state.dialogsPage.newMessageText\r\n  }\r\n}\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     sendMessage: (newMessageText) => {\r\n//       let action = sendMessageCreator(newMessageText);\r\n//       dispatch(action);\r\n//     },\r\n//   }\r\n// }\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    sendMessage: sendMessageCreator\r\n  }),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n"],"sourceRoot":""}