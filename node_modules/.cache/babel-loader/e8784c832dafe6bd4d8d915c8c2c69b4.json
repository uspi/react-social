{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import{reduxForm}from'redux-form';import{login}from'../../redux/auth-reducer';import{required}from'../../utils/validators/validators';import{createField,Input}from'../common/FormsControls/FormsControls';import style from\"./Login.module.css\";import formStyle from\"./../common/FormsControls/FormsControls.module.css\";// form\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(_ref){var handleSubmit=_ref.handleSubmit,error=_ref.error;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:createField(\"Email\",\"email\",[required],Input)}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:createField(\"Password\",\"password\",[required],Input,{type:\"password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[createField(null,\"rememberMe\",null,Input,{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Remember me\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:formStyle.formSummaryError,children:error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:\"Login\"})})]});};// container for login form component\n// state wrapper\nvar LoginReduxForm=reduxForm({form:\"user-login\"})(LoginForm);// component\nvar Login=function Login(props){var onSubmit=function onSubmit(formData){props.login(formData.email,formData.password,formData.rememberMe);};if(props.isAuth){return/*#__PURE__*/_jsx(Redirect,{to:\"/profile\"});}return/*#__PURE__*/_jsxs(\"div\",{className:style.content,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(LoginReduxForm,{onSubmit:onSubmit})]});};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.auth.isAuth};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"sources":["E:/repositories/react-social/src/components/Login/Login.jsx"],"names":["React","connect","Redirect","reduxForm","login","required","createField","Input","style","formStyle","LoginForm","handleSubmit","error","type","formSummaryError","LoginReduxForm","form","Login","props","onSubmit","formData","email","password","rememberMe","isAuth","content","mapStateToProps","state","auth"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,SAAT,KAA0B,YAA1B,CACA,OAASC,KAAT,KAAsB,0BAAtB,CACA,OAASC,QAAT,KAAyB,mCAAzB,CACA,OAASC,WAAT,CAAsBC,KAAtB,KAAmC,uCAAnC,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,oDAAtB,CAEA;wFACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAA6B,IAA1BC,CAAAA,YAA0B,MAA1BA,YAA0B,CAAZC,KAAY,MAAZA,KAAY,CAC3C,mBACI,cAAM,QAAQ,CAAED,YAAhB,wBACI,YAAK,SAAS,CAAC,EAAf,UACKL,WAAW,CAAC,OAAD,CAAU,OAAV,CAAmB,CAACD,QAAD,CAAnB,CAA+BE,KAA/B,CADhB,EADJ,cAKI,YAAK,SAAS,CAAC,EAAf,UACKD,WAAW,CAAC,UAAD,CAAa,UAAb,CAAyB,CAACD,QAAD,CAAzB,CAAqCE,KAArC,CAA4C,CAAEM,IAAI,CAAE,UAAR,CAA5C,CADhB,EALJ,cAQI,aAAK,SAAS,CAAC,EAAf,WACKP,WAAW,CAAC,IAAD,CAAO,YAAP,CAAqB,IAArB,CAA2BC,KAA3B,CAAkC,CAAEM,IAAI,CAAE,UAAR,CAAlC,CADhB,cAEI,qCAFJ,GARJ,CAYKD,KAAK,eAAI,YAAK,SAAS,CAAEH,SAAS,CAACK,gBAA1B,UACLF,KADK,EAZd,cAeI,kCAAK,iCAAL,EAfJ,GADJ,CAmBH,CApBD,CAsBA;AACA;AACA,GAAMG,CAAAA,cAAc,CAAGZ,SAAS,CAAC,CAC7Ba,IAAI,CAAE,YADuB,CAAD,CAAT,CAEpBN,SAFoB,CAAvB,CAIA;AACA,GAAMO,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACrB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAc,CAC3BF,KAAK,CAACd,KAAN,CAAYgB,QAAQ,CAACC,KAArB,CAA4BD,QAAQ,CAACE,QAArC,CAA+CF,QAAQ,CAACG,UAAxD,EACH,CAFD,CAIA,GAAIL,KAAK,CAACM,MAAV,CAAkB,CACd,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAAP,CACH,CAED,mBACI,aAAK,SAAS,CAAEhB,KAAK,CAACiB,OAAtB,wBACI,6BADJ,cAEI,KAAC,cAAD,EAAgB,QAAQ,CAAEN,QAA1B,EAFJ,GADJ,CAMH,CAfD,CAiBA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAChCH,MAAM,CAAEG,KAAK,CAACC,IAAN,CAAWJ,MADa,CAAZ,EAAxB,CAIA,cAAevB,CAAAA,OAAO,CAACyB,eAAD,CAAkB,CAAEtB,KAAK,CAALA,KAAF,CAAlB,CAAP,CAAoCa,KAApC,CAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { reduxForm } from 'redux-form';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { createField, Input } from '../common/FormsControls/FormsControls';\r\nimport style from \"./Login.module.css\"\r\nimport formStyle from \"./../common/FormsControls/FormsControls.module.css\"\r\n\r\n// form\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"\">\r\n                {createField(\"Email\", \"email\", [required], Input)}\r\n                {/* <Field placeholder={\"Email\"} name={\"email\"} component={Input} validate={[required]} /> */}\r\n            </div>\r\n            <div className=\"\">\r\n                {createField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\r\n            </div>\r\n            <div className=\"\">\r\n                {createField(null, \"rememberMe\", null, Input, { type: \"checkbox\" })}\r\n                <span>Remember me</span>\r\n            </div>\r\n            {error && <div className={formStyle.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div><button>Login</button></div>\r\n        </form>\r\n    );\r\n};\r\n\r\n// container for login form component\r\n// state wrapper\r\nconst LoginReduxForm = reduxForm({\r\n    form: \"user-login\"\r\n})(LoginForm);\r\n\r\n// component\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to=\"/profile\" />\r\n    }\r\n\r\n    return (\r\n        <div className={style.content}>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);"]},"metadata":{},"sourceType":"module"}